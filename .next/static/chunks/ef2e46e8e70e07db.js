(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},61659,e=>{"use strict";let t=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>t],61659)},72906,e=>{"use strict";var t=e.i(43476),s=e.i(71645),n=e.i(7471),i=e.i(5125),a=e.i(51804),l=e.i(61659),r=e.i(7233),c=e.i(75254);let d=(0,c.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),o=(0,c.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),x=(0,c.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var m=e.i(22016);function h(){let[e,c]=(0,s.useState)({totalCars:0,activeBookings:0,totalRevenue:0,pendingPayments:0}),[h,p]=(0,s.useState)([]),[f,j]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{!async function(){let{data:e,count:t}=await n.supabase.from("cars").select("*",{count:"exact"}),{data:s}=await n.supabase.from("bookings").select("*, cars(name)").order("created_at",{ascending:!1}).limit(5);e&&(c({totalCars:t||0,activeBookings:s?.filter(e=>"confirmed"===e.booking_status).length||0,totalRevenue:0,pendingPayments:s?.filter(e=>"pending"===e.payment_status).length||0}),p(s||[])),j(!1)}()},[]),(0,t.jsxs)("div",{className:"space-y-8 min-h-screen bg-zinc-50/50 p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Overview"}),(0,t.jsx)("p",{className:"text-muted text-sm",children:"Welcome back, Admin. Here is what is happening today."})]}),(0,t.jsxs)(m.default,{href:"/admin/cars/new",className:"bg-black text-white px-6 py-3 rounded-full text-sm font-bold flex items-center gap-2 hover:bg-zinc-800 transition-colors shadow-lg",children:[(0,t.jsx)(r.Plus,{size:18}),(0,t.jsx)("span",{children:"Add New Car"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(g,{title:"Total Fleet",value:e.totalCars,icon:(0,t.jsx)(i.Car,{className:"text-blue-500"}),change:"+2 new this week"}),(0,t.jsx)(g,{title:"Confirmed Bookings",value:e.activeBookings,icon:(0,t.jsx)(a.CalendarCheck,{className:"text-green-500"}),change:"+12% from last month"}),(0,t.jsx)(g,{title:"Revenue (MTD)",value:`₦${e.totalRevenue}`,icon:(0,t.jsx)(d,{className:"text-amber-500"}),change:"Calculated"}),(0,t.jsx)(g,{title:"Pending Payments",value:e.pendingPayments,icon:(0,t.jsx)(l.CreditCard,{className:"text-orange-500"}),change:"Requires attention"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"p-8 border border-zinc-200 rounded-3xl bg-white shadow-sm",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,t.jsx)(o,{size:20,className:"text-zinc-400"}),(0,t.jsx)("span",{children:"Recent Bookings"})]}),(0,t.jsx)("div",{className:"space-y-4",children:f?[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-16 bg-zinc-100 animate-pulse rounded-2xl"},e)):h.length>0?h.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-2xl border border-zinc-100 hover:bg-zinc-50 transition-colors",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-sm",children:e.cars?.name||"Premium Vehicle"}),(0,t.jsxs)("div",{className:"text-xs text-zinc-500 font-medium",children:[e.customer_name," • ",e.pickup_date]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-sm font-bold",children:["₦",e.total_price.toLocaleString()]}),(0,t.jsx)(u,{status:e.booking_status})]})]},e.id)):(0,t.jsx)("p",{className:"text-sm text-zinc-400 py-8 text-center italic",children:"No recent bookings found."})}),(0,t.jsx)(m.default,{href:"/admin/bookings",className:"block text-center mt-6 text-sm font-bold text-amber-600 hover:underline",children:"View All Bookings →"})]}),(0,t.jsxs)("div",{className:"p-8 border border-zinc-200 rounded-3xl bg-white shadow-sm",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,t.jsx)(x,{size:20,className:"text-zinc-400"}),(0,t.jsx)("span",{children:"Quick Actions & Alerts"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(b,{title:"Pending Bank Transfers",count:2,description:"Manually verify receipts for recent bookings.",action:"Review",color:"orange"}),(0,t.jsx)(b,{title:"Vehicle Maintenance",count:1,description:"Toyota Prado J150 due for servicing.",action:"Log",color:"blue"}),(0,t.jsx)(b,{title:"WhatsApp Enquiries",count:5,description:"Unanswered messages from the website.",action:"Open",color:"green"})]})]})]})]})}function g({title:e,value:s,icon:n,change:i}){return(0,t.jsxs)("div",{className:"p-6 border border-zinc-200 rounded-3xl bg-white shadow-sm space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("div",{className:"p-3 rounded-2xl bg-zinc-50",children:n}),(0,t.jsx)("span",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest",children:i})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs font-bold text-zinc-400 uppercase tracking-tighter mb-1",children:e}),(0,t.jsx)("div",{className:"text-2xl font-bold tracking-tight text-zinc-900",children:s})]})]})}function u({status:e}){let s={confirmed:"bg-green-100 text-green-700 border-green-200",pending:"bg-orange-100 text-orange-700 border-orange-200",cancelled:"bg-red-100 text-red-700 border-red-200"};return(0,t.jsx)("span",{className:`text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 rounded-full border ${s[e]||s.pending}`,children:e})}function b({title:e,count:s,description:n,action:i,color:a}){return(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-2xl border border-zinc-100",children:[(0,t.jsx)("div",{className:`mt-1.5 h-1.5 w-1.5 rounded-full ${{orange:"bg-orange-500",blue:"bg-blue-500",green:"bg-green-500"}[a]} shrink-0`}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-zinc-900",children:e}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-zinc-400 bg-zinc-50 px-2 py-0.5 rounded-full border border-zinc-100",children:s})]}),(0,t.jsx)("p",{className:"text-[11px] text-zinc-500 mb-3 leading-tight",children:n}),(0,t.jsxs)("button",{className:"text-[11px] font-bold text-zinc-900 hover:underline",children:[i," →"]})]})]})}e.s(["default",()=>h],72906)}]);