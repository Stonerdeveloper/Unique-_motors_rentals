(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46897,e=>{"use strict";let s=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],46897)},81418,51975,e=>{"use strict";var s=e.i(75254);let a=(0,s.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>a],81418);let t=(0,s.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>t],51975)},31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},56909,e=>{"use strict";let s=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>s],56909)},71689,12426,71649,69074,73708,e=>{"use strict";var s=e.i(75254);let a=(0,s.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689);let t=(0,s.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],12426);let i=(0,s.default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);e.s(["Type",()=>i],71649);let r=(0,s.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>r],69074);let l=(0,s.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["Image",()=>l],73708)},41193,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(7471),i=e.i(71689),r=e.i(56909),l=e.i(31278),c=e.i(5125),n=e.i(46897),d=e.i(81418),o=e.i(12426),x=e.i(71649),p=e.i(51975),m=e.i(69074),u=e.i(73708),h=e.i(22016),g=e.i(18566);function f(){let e=(0,g.useRouter)(),[f,b]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1),[v,z]=(0,a.useState)(null),[N,w]=(0,a.useState)(""),[k,S]=(0,a.useState)({name:"",brand:"",type:"SUV",price_per_day:0,with_driver:!0,location:"Lagos",image_url:""}),M=async s=>{s.preventDefault(),b(!0);let a=k.image_url;if(v){y(!0);let e=v.name.split(".").pop(),s=`${Math.random()}.${e}`,i=`${s}`,{error:r,data:l}=await t.supabase.storage.from("car-images").upload(i,v);if(r){alert("Error uploading image: "+r.message),b(!1),y(!1);return}let{data:{publicUrl:c}}=t.supabase.storage.from("car-images").getPublicUrl(i);a=c}let{error:i}=await t.supabase.from("cars").insert([{...k,image_url:a}]);i?(alert("Error adding car: "+i.message),b(!1),y(!1)):e.push("/admin/cars")};return(0,s.jsxs)("div",{className:"p-8 max-w-4xl mx-auto space-y-8",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(h.default,{href:"/admin/cars",className:"p-3 bg-white border border-zinc-200 rounded-2xl hover:bg-zinc-50 transition-colors",children:(0,s.jsx)(i.ArrowLeft,{size:18})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Add New Vehicle"}),(0,s.jsx)("p",{className:"text-muted text-xs",children:"Enter the vehicle specifications for your fleet."})]})]})}),(0,s.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white border border-zinc-200 rounded-3xl p-8 space-y-6 shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-zinc-400 mb-6 flex items-center gap-2",children:[(0,s.jsx)(c.Car,{size:16})," Basic Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,s.jsx)(p.Tag,{size:12})," Model Name"]}),(0,s.jsx)("input",{required:!0,type:"text",placeholder:"e.g. Prado J150",className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",onChange:e=>S({...k,name:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,s.jsx)(p.Tag,{size:12})," Brand"]}),(0,s.jsx)("input",{required:!0,type:"text",placeholder:"e.g. Toyota",className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",onChange:e=>S({...k,brand:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,s.jsx)(x.Type,{size:12})," Vehicle Type"]}),(0,s.jsxs)("select",{className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",onChange:e=>S({...k,type:e.target.value}),children:[(0,s.jsx)("option",{children:"SUV"}),(0,s.jsx)("option",{children:"Sedan"}),(0,s.jsx)("option",{children:"Bus"}),(0,s.jsx)("option",{children:"Luxury"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,s.jsx)(o.DollarSign,{size:12})," Price Per Day (â‚¦)"]}),(0,s.jsx)("input",{required:!0,type:"number",placeholder:"50000",className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",onChange:e=>S({...k,price_per_day:parseInt(e.target.value)})})]})]})]}),(0,s.jsxs)("div",{className:"bg-white border border-zinc-200 rounded-3xl p-8 space-y-6 shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-zinc-400 mb-6 flex items-center gap-2",children:[(0,s.jsx)(n.MapPin,{size:16})," Service & Availability"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,s.jsx)(n.MapPin,{size:12})," Primary Location"]}),(0,s.jsxs)("select",{className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",onChange:e=>S({...k,location:e.target.value}),children:[(0,s.jsx)("option",{children:"Lagos"}),(0,s.jsx)("option",{children:"Abuja"}),(0,s.jsx)("option",{children:"Port Harcourt"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,s.jsx)(d.ShieldCheck,{size:12})," Service Mode"]}),(0,s.jsxs)("select",{className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",onChange:e=>S({...k,with_driver:"true"===e.target.value}),children:[(0,s.jsx)("option",{value:"true",children:"Professional Chauffeur Driven"}),(0,s.jsx)("option",{value:"false",children:"Self-Drive Policy"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,s.jsx)(u.Image,{size:12})," Vehicle Image"]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[(0,s.jsxs)("div",{className:"relative w-full md:w-48 h-32 bg-zinc-50 border-2 border-dashed border-zinc-200 rounded-2xl overflow-hidden flex items-center justify-center group hover:border-amber-500 transition-colors",children:[N?(0,s.jsx)("img",{src:N,alt:"Preview",className:"w-full h-full object-cover"}):(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 text-zinc-400",children:[(0,s.jsx)(m.Upload,{size:24}),(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Upload PNG/JPG"})]}),(0,s.jsx)("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:e=>{let s=e.target.files?.[0];s&&(z(s),w(URL.createObjectURL(s)))}})]}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)("p",{className:"text-xs text-zinc-500 font-medium",children:"Click the card to browse or drag and drop an image of the vehicle."}),(0,s.jsx)("p",{className:"text-[10px] text-zinc-400 italic",children:"Images are stored securely on Supabase Storage. Max size 2MB recommended."}),v&&(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-green-50 text-green-700 rounded-full text-[10px] font-bold",children:[(0,s.jsx)(d.ShieldCheck,{size:12}),v.name]})]})]})]})]}),(0,s.jsx)("button",{disabled:f||j,type:"submit",className:"w-full flex items-center justify-center gap-2 py-5 bg-black text-white rounded-full font-bold hover:bg-zinc-800 transition-all shadow-xl disabled:opacity-50",children:f||j?(0,s.jsx)(l.Loader2,{className:"animate-spin",size:24}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Save,{size:20}),(0,s.jsx)("span",{children:"Save Vehicle to Fleet"})]})})]})]})}e.s(["default",()=>f])}]);