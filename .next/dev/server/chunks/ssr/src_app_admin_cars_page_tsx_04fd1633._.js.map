{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tech_alchemist/Documents/CarRental/src/app/admin/cars/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport {\n    Plus,\n    Search,\n    Edit2,\n    Trash2,\n    ExternalLink,\n    MapPin,\n    ShieldCheck,\n    Tag\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\n\nexport default function AdminCarsPage() {\n    const [cars, setCars] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [search, setSearch] = useState(\"\");\n\n    useEffect(() => {\n        fetchCars();\n    }, []);\n\n    async function fetchCars() {\n        setLoading(true);\n        const { data, error } = await supabase.from(\"cars\").select(\"*\").order(\"created_at\", { ascending: false });\n        if (!error && data) setCars(data);\n        setLoading(false);\n    }\n\n    const handleDelete = async (id: string) => {\n        if (confirm(\"Are you sure you want to delete this vehicle?\")) {\n            const { error } = await supabase.from(\"cars\").delete().eq(\"id\", id);\n            if (!error) fetchCars();\n        }\n    };\n\n    const filteredCars = cars.filter(c =>\n        c.name.toLowerCase().includes(search.toLowerCase()) ||\n        c.brand.toLowerCase().includes(search.toLowerCase())\n    );\n\n    return (\n        <div className=\"p-8 space-y-8\">\n            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\n                <div>\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Fleet Inventory</h1>\n                    <p className=\"text-muted text-sm\">Manage your vehicles, pricing, and availability here.</p>\n                </div>\n                <Link\n                    href=\"/admin/cars/new\"\n                    className=\"bg-black text-white px-6 py-3 rounded-full text-sm font-bold flex items-center gap-2 hover:bg-zinc-800 transition-colors shadow-lg\"\n                >\n                    <Plus size={18} />\n                    <span>Add New Vehicle</span>\n                </Link>\n            </div>\n\n            <div className=\"flex items-center gap-4 bg-white p-4 border border-zinc-200 rounded-3xl shadow-sm\">\n                <Search size={20} className=\"text-zinc-400\" />\n                <input\n                    type=\"text\"\n                    placeholder=\"Search by name, brand or type...\"\n                    className=\"flex-1 bg-transparent border-none outline-none text-sm font-medium\"\n                    value={search}\n                    onChange={(e) => setSearch(e.target.value)}\n                />\n            </div>\n\n            {loading ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {[1, 2, 3].map(i => <div key={i} className=\"h-64 bg-zinc-100 animate-pulse rounded-3xl\" />)}\n                </div>\n            ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {filteredCars.map((car) => (\n                        <div key={car.id} className=\"group bg-white border border-zinc-200 rounded-3xl overflow-hidden shadow-sm hover:shadow-xl transition-all\">\n                            <div className=\"relative h-40 w-full overflow-hidden bg-zinc-50\">\n                                <Image\n                                    src={car.image_url || \"https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=800&auto=format&fit=crop\"}\n                                    alt={car.name}\n                                    fill\n                                    className=\"object-cover group-hover:scale-110 transition-transform duration-500\"\n                                />\n                                <div className=\"absolute top-4 right-4 flex gap-2\">\n                                    <Link href={`/admin/cars/edit/${car.id}`} className=\"p-2 bg-white/90 backdrop-blur-md rounded-full shadow-sm hover:bg-white text-zinc-600\">\n                                        <Edit2 size={16} />\n                                    </Link>\n                                    <button onClick={() => handleDelete(car.id)} className=\"p-2 bg-white/90 backdrop-blur-md rounded-full shadow-sm hover:bg-red-50 text-red-600\">\n                                        <Trash2 size={16} />\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"p-6\">\n                                <div className=\"flex justify-between items-start mb-4\">\n                                    <div>\n                                        <h3 className=\"font-bold text-lg\">{car.brand} {car.name}</h3>\n                                        <div className=\"flex items-center gap-2 text-[10px] font-bold uppercase tracking-widest text-zinc-400 mt-1\">\n                                            <Tag size={10} />\n                                            <span>{car.type}</span>\n                                        </div>\n                                    </div>\n                                    <div className=\"text-right\">\n                                        <div className=\"text-lg font-bold\">â‚¦{car.price_per_day.toLocaleString()}</div>\n                                        <span className=\"text-[10px] uppercase font-bold text-zinc-400\">Daily Rate</span>\n                                    </div>\n                                </div>\n\n                                <div className=\"flex flex-wrap gap-3 mb-6\">\n                                    <div className=\"flex items-center gap-1.5 text-xs font-medium text-zinc-500 bg-zinc-50 px-3 py-1.5 rounded-full border border-zinc-100\">\n                                        <MapPin size={12} className=\"text-amber-500\" />\n                                        <span>{car.location}</span>\n                                    </div>\n                                    <div className=\"flex items-center gap-1.5 text-xs font-medium text-zinc-500 bg-zinc-50 px-3 py-1.5 rounded-full border border-zinc-100\">\n                                        <ShieldCheck size={12} className=\"text-amber-500\" />\n                                        <span>{car.with_driver ? \"With Driver\" : \"Self-drive\"}</span>\n                                    </div>\n                                </div>\n\n                                <Link\n                                    href={`/cars/${car.id}`}\n                                    target=\"_blank\"\n                                    className=\"flex items-center justify-center gap-2 w-full py-3 border border-zinc-200 rounded-2xl text-xs font-bold text-zinc-600 hover:bg-zinc-50 transition-colors\"\n                                >\n                                    <ExternalLink size={14} />\n                                    <span>View Public Page</span>\n                                </Link>\n                            </div>\n                        </div>\n                    ))}\n\n                    {filteredCars.length === 0 && (\n                        <div className=\"col-span-full py-24 text-center border-2 border-dashed border-zinc-100 rounded-3xl\">\n                            <p className=\"text-zinc-400 font-medium italic\">No vehicles found matching your search.</p>\n                        </div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}