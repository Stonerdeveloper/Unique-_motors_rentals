module.exports=[24987,a=>{"use strict";let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},4416,33350,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["ShieldCheck",()=>c],4416);let d=(0,b.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);a.s(["Tag",()=>d],33350)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},210,90166,34148,73320,38632,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>c],210);let d=(0,b.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>d],90166);let e=(0,b.default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);a.s(["Type",()=>e],34148);let f=(0,b.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);a.s(["Upload",()=>f],73320);let g=(0,b.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["Image",()=>g],38632)},15672,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(10849),e=a.i(210),f=a.i(14548),g=a.i(96221),h=a.i(48464),i=a.i(24987),j=a.i(4416),k=a.i(90166),l=a.i(34148),m=a.i(33350),n=a.i(73320),o=a.i(38632),p=a.i(38246),q=a.i(50944);function r({params:a}){let{id:r}=(0,c.use)(a),s=(0,q.useRouter)(),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)({name:"",brand:"",type:"SUV",price_per_day:0,with_driver:!0,location:"Lagos",image_url:""});async function F(){let{data:a,error:b}=await d.supabase.from("cars").select("*").eq("id",r).single();a&&!b?(E(a),C(a.image_url),u(!1)):(alert("Vehicle not found"),s.push("/admin/cars"))}(0,c.useEffect)(()=>{F()},[r]);let G=async a=>{a.preventDefault(),w(!0);let b=D.image_url;if(z){y(!0);let a=z.name.split(".").pop(),c=`${Math.random()}.${a}`,e=`${c}`,{error:f}=await d.supabase.storage.from("car-images").upload(e,z);if(f){alert("Error uploading image: "+f.message),w(!1),y(!1);return}let{data:{publicUrl:g}}=d.supabase.storage.from("car-images").getPublicUrl(e);b=g}let{error:c}=await d.supabase.from("cars").update({...D,image_url:b}).eq("id",r);c?(alert("Error updating car: "+c.message),w(!1),y(!1)):s.push("/admin/cars")};return t?(0,b.jsx)("div",{className:"flex h-96 items-center justify-center",children:(0,b.jsx)(g.Loader2,{className:"animate-spin text-zinc-300",size:48})}):(0,b.jsxs)("div",{className:"p-8 max-w-4xl mx-auto space-y-8",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(p.default,{href:"/admin/cars",className:"p-3 bg-white border border-zinc-200 rounded-2xl hover:bg-zinc-50 transition-colors",children:(0,b.jsx)(e.ArrowLeft,{size:18})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Vehicle"}),(0,b.jsxs)("p",{className:"text-muted text-xs",children:["Update specs and imagery for the ",D.brand," ",D.name,"."]})]})]})}),(0,b.jsxs)("form",{onSubmit:G,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white border border-zinc-200 rounded-3xl p-8 space-y-6 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-zinc-400 mb-6 flex items-center gap-2",children:[(0,b.jsx)(h.Car,{size:16})," Basic Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,b.jsx)(m.Tag,{size:12})," Model Name"]}),(0,b.jsx)("input",{required:!0,type:"text",value:D.name,className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",onChange:a=>E({...D,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,b.jsx)(m.Tag,{size:12})," Brand"]}),(0,b.jsx)("input",{required:!0,type:"text",value:D.brand,className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",onChange:a=>E({...D,brand:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,b.jsx)(l.Type,{size:12})," Vehicle Type"]}),(0,b.jsxs)("select",{className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",value:D.type,onChange:a=>E({...D,type:a.target.value}),children:[(0,b.jsx)("option",{children:"SUV"}),(0,b.jsx)("option",{children:"Sedan"}),(0,b.jsx)("option",{children:"Bus"}),(0,b.jsx)("option",{children:"Luxury"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,b.jsx)(k.DollarSign,{size:12})," Price Per Day (â‚¦)"]}),(0,b.jsx)("input",{required:!0,type:"number",value:D.price_per_day,className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",onChange:a=>E({...D,price_per_day:parseInt(a.target.value)})})]})]})]}),(0,b.jsxs)("div",{className:"bg-white border border-zinc-200 rounded-3xl p-8 space-y-6 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-zinc-400 mb-6 flex items-center gap-2",children:[(0,b.jsx)(i.MapPin,{size:16})," Service & Availability"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,b.jsx)(i.MapPin,{size:12})," Primary Location"]}),(0,b.jsxs)("select",{className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",value:D.location,onChange:a=>E({...D,location:a.target.value}),children:[(0,b.jsx)("option",{children:"Lagos"}),(0,b.jsx)("option",{children:"Abuja"}),(0,b.jsx)("option",{children:"Port Harcourt"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,b.jsx)(j.ShieldCheck,{size:12})," Service Mode"]}),(0,b.jsxs)("select",{className:"w-full bg-zinc-50 border border-zinc-200 rounded-xl p-4 text-sm outline-none focus:ring-1 focus:ring-amber-500",value:D.with_driver.toString(),onChange:a=>E({...D,with_driver:"true"===a.target.value}),children:[(0,b.jsx)("option",{value:"true",children:"Professional Chauffeur Driven"}),(0,b.jsx)("option",{value:"false",children:"Self-Drive Policy"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest flex items-center gap-1",children:[(0,b.jsx)(o.Image,{size:12})," Vehicle Image"]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[(0,b.jsxs)("div",{className:"relative w-full md:w-48 h-32 bg-zinc-50 border-2 border-dashed border-zinc-200 rounded-2xl overflow-hidden flex items-center justify-center group hover:border-amber-500 transition-colors",children:[B?(0,b.jsx)("img",{src:B,alt:"Preview",className:"w-full h-full object-cover"}):(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 text-zinc-400",children:[(0,b.jsx)(n.Upload,{size:24}),(0,b.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Upload PNG/JPG"})]}),(0,b.jsx)("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:a=>{let b=a.target.files?.[0];b&&(A(b),C(URL.createObjectURL(b)))}})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("p",{className:"text-xs text-zinc-500 font-medium",children:"Click the card to replace the current image. Leave blank to keep current."}),(0,b.jsx)("p",{className:"text-[10px] text-zinc-400 italic",children:"Images are stored securely on Supabase Storage."})]})]})]})]}),(0,b.jsx)("button",{disabled:v||x,type:"submit",className:"w-full flex items-center justify-center gap-2 py-5 bg-black text-white rounded-full font-bold hover:bg-zinc-800 transition-all shadow-xl disabled:opacity-50",children:v||x?(0,b.jsx)(g.Loader2,{className:"animate-spin",size:24}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Save,{size:20}),(0,b.jsx)("span",{children:"Update Vehicle"})]})})]})]})}a.s(["default",()=>r])}];

//# sourceMappingURL=_3357c6ec._.js.map